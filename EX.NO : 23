#include <stdio.h>

// Function to find a peak element index using Binary Search
int findPeakElement(int nums[], int n) {
    int left = 0, right = n - 1;

    while (left < right) {
        int mid = left + (right - left) / 2;

        // If mid element is less than the next element, move right
        if (nums[mid] < nums[mid + 1])
            left = mid + 1;
        else
            right = mid;  // Otherwise, move left (including mid)
    }

    // When left == right, that's a peak
    return left;
}

int main() {
    int nums1[] = {1, 2, 3, 1};
    int n1 = sizeof(nums1) / sizeof(nums1[0]);

    int nums2[] = {1, 2, 1, 3, 5, 6, 4};
    int n2 = sizeof(nums2) / sizeof(nums2[0]);

    printf("Example 1:\n");
    printf("Input: [1, 2, 3, 1]\n");
    int peakIndex1 = findPeakElement(nums1, n1);
    printf("Output: %d\n", peakIndex1);
    printf("Explanation: Peak element is %d at index %d\n\n", nums1[peakIndex1], peakIndex1);

    printf("Example 2:\n");
    printf("Input: [1, 2, 1, 3, 5, 6, 4]\n");
    int peakIndex2 = findPeakElement(nums2, n2);
    printf("Output: %d\n", peakIndex2);
    printf("Explanation: Peak element is %d at index %d\n", nums2[peakIndex2], peakIndex2);

    return 0;
}
