#include <stdio.h>
#include <limits.h>

#define N 3   // number of workers/tasks

// Function to swap two integers
void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

// Function to calculate total cost for an assignment
int total_cost(int assignment[], int cost[N][N]) {
    int total = 0;
    for (int i = 0; i < N; i++)
        total += cost[i][assignment[i]];
    return total;
}

// Generate permutations to solve assignment problem
void permute(int assignment[], int l, int r, int cost[N][N],
             int *minCost, int bestAssignment[]) {
    if (l == r) {
        int currentCost = total_cost(assignment, cost);
        if (currentCost < *minCost) {
            *minCost = currentCost;
            for (int i = 0; i < N; i++)
                bestAssignment[i] = assignment[i];
        }
        return;
    }

    for (int i = l; i <= r; i++) {
        swap(&assignment[l], &assignment[i]);
        permute(assignment, l + 1, r, cost, minCost, bestAssignment);
        swap(&assignment[l], &assignment[i]);
    }
}

// Main assignment problem solver
void assignment_problem(int cost[N][N]) {
    int assignment[N] = {0, 1, 2};   // Initial permutation
    int bestAssignment[N];
    int minCost = INT_MAX;

    permute(assignment, 0, N - 1, cost, &minCost, bestAssignment);

    printf("\nOptimal Assignment:\n");
    for (int i = 0; i < N; i++) {
        printf("(worker %d -> task %d)\n", i + 1, bestAssignment[i] + 1);
    }

    printf("Total Cost: %d\n", minCost);
}

int main() {
    int cost1[N][N] = {
        {3, 10, 7},
        {8, 5, 12},
        {4, 6, 9}
    };

    int cost2[N][N] = {
        {15, 9, 4},
        {8, 7, 18},
        {6, 12, 11}
    };

    printf("Test Case 1:\n");
    assignment_problem(cost1);

    printf("\nTest Case 2:\n");
    assignment_problem(cost2);

    return 0;
}
